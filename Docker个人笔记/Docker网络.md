# Docker 网络

本文主要介绍Docker 提供的几种原生网络，以及如何创建自定义网络, 容器之间如何通信，以及容器与外界如何交互。

## none 网络

故名思议，none 网络就是什么都没有的网络。挂在这个网络下的容器除了 lo，没有其他任何网卡。容器创建时，可以通过 --network=none 指定使用 none 网络。

![none网络](/assets/none网络.PNG)

> **应用场景**：一些对安全性要求高并且不需要联网的应用可以使用 none 这样一个封闭的网络。比如某个容器的唯一用途是生成随机密码，就可以放到 none 网络中避免密码被窃取。当然大部分容器是需要网络的，我们接着看 host 网络。

## host 网络

连接到 host 网络的容器共享 Docker host 的网络栈，容器的网络配置与 host 完全一样。可以通过 --network=host 指定使用 host 网络。

![host网络](/assets/host网络-1.PNG)

在容器中可以看到 host 的所有网卡，并且连 hostname 也是 host 的。

> **应用场景**：直接使用 Docker host 的网络最大的好处就是性能，如果容器对网络传输效率有较高要求，则可以选择 host 网络。当然不便之处就是牺牲一些灵活性，比如要考虑端口冲突问题，Docker host 上已经使用的端口就不能再用了。Docker host 的另一个用途是让容器可以直接配置 host 网路。比如某些跨 host 的网络解决方案，其本身也是以容器方式运行的，这些方案需要对网络进行配置，比如管理 iptables，大家将会在后面进阶技术章节看到。